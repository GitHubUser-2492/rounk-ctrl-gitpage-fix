<!DOCTYPE html>
<html>
<body>
  <script src="/Scripts/jquery.history.js" type="text/javascript"></script>

  <div id="contentBox">
  	<h1>Welcome to Page 1</h1>
  	Content for Page 1.
  </div>
  <a href="?page=2" onclick="createView( { contentId: (currentPage<boxcontent.length-1? currentPage+1 : 1), title: 'Welcome to Page '+(currentPage<boxcontent.length-1? currentPage+1 : 1) }, true );return false;">Next Page</a>

  <script type="text/javascript">
    function createView(stateObject, pushHistory) {
	document.getElementById('contentBox').innerHTML = '<h1>'+stateObject.title+'</h1>'+boxcontent[stateObject.contentId];
	currentPage = stateObject.contentId;

	if (pushHistory) history.pushState(stateObject, stateObject.title, '?page='+stateObject.contentId);
}
window.onpopstate = function(event) {

	createView(event.state, false);
};
  var boxcontent = new Array();
  boxcontent[1] = 'Content for Page 1 is content.';
  boxcontent[2] = 'This exciting stuff is content for Page 2.';
  boxcontent[3] = 'Page 3 is probably the best page, in content terms.';
  boxcontent[4] = 'Wow, you\'re still reading this crap?';

  var currentPage = 1;

  history.pushState( { contentId: 1, title: 'Welcome to Page 1' }, 'Welcome to Page 1', '?page=1');

  </script>
</body>
</html>
